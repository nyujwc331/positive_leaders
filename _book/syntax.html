<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Syntax | The DSS Innovation style guide  Ji won Chang</title>
  <meta name="description" content="The DSS Innovation style guide Ji won Chang" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Syntax | The DSS Innovation style guide  Ji won Chang" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Syntax | The DSS Innovation style guide  Ji won Chang" />
  
  
  

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="project.html"/>
<link rel="next" href="documentation.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.11.1/datatables.js"></script>
<link href="libs/dt-core-1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.19/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.19/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Table of contents</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a></li>
<li class="chapter" data-level="2" data-path="project.html"><a href="project.html"><i class="fa fa-check"></i><b>2</b> Projects</a></li>
<li class="chapter" data-level="3" data-path="syntax.html"><a href="syntax.html"><i class="fa fa-check"></i><b>3</b> Syntax</a><ul>
<li class="chapter" data-level="3.1" data-path="syntax.html"><a href="syntax.html#file-names"><i class="fa fa-check"></i><b>3.1</b> File Names</a></li>
<li class="chapter" data-level="3.2" data-path="syntax.html"><a href="syntax.html#object-names"><i class="fa fa-check"></i><b>3.2</b> Object names</a></li>
<li class="chapter" data-level="3.3" data-path="syntax.html"><a href="syntax.html#function-definition-and-calls"><i class="fa fa-check"></i><b>3.3</b> Function definition and calls</a></li>
<li class="chapter" data-level="3.4" data-path="syntax.html"><a href="syntax.html#pipes"><i class="fa fa-check"></i><b>3.4</b> Pipes</a></li>
<li class="chapter" data-level="3.5" data-path="syntax.html"><a href="syntax.html#ggplot2"><i class="fa fa-check"></i><b>3.5</b> ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="documentation.html"><a href="documentation.html"><i class="fa fa-check"></i><b>4</b> Documentation</a><ul>
<li class="chapter" data-level="4.1" data-path="documentation.html"><a href="documentation.html#inline-comments"><i class="fa fa-check"></i><b>4.1</b> Inline comments</a></li>
<li class="chapter" data-level="4.2" data-path="documentation.html"><a href="documentation.html#function-documentation"><i class="fa fa-check"></i><b>4.2</b> Function documentation</a></li>
<li class="chapter" data-level="4.3" data-path="documentation.html"><a href="documentation.html#readme"><i class="fa fa-check"></i><b>4.3</b> README</a></li>
<li class="chapter" data-level="4.4" data-path="documentation.html"><a href="documentation.html#walkthrough"><i class="fa fa-check"></i><b>4.4</b> Walkthrough</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="test.html"><a href="test.html"><i class="fa fa-check"></i><b>5</b> Testing</a><ul>
<li class="chapter" data-level="5.1" data-path="test.html"><a href="test.html#shiny-applications"><i class="fa fa-check"></i><b>5.1</b> Shiny applications</a></li>
<li class="chapter" data-level="5.2" data-path="test.html"><a href="test.html#production-level-models"><i class="fa fa-check"></i><b>5.2</b> Production level models</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="manage.html"><a href="manage.html"><i class="fa fa-check"></i><b>6</b> Project management</a><ul>
<li class="chapter" data-level="6.1" data-path="manage.html"><a href="manage.html#time"><i class="fa fa-check"></i><b>6.1</b> Time</a></li>
<li class="chapter" data-level="6.2" data-path="manage.html"><a href="manage.html#issues"><i class="fa fa-check"></i><b>6.2</b> Issues</a></li>
<li class="chapter" data-level="6.3" data-path="manage.html"><a href="manage.html#commit-messages"><i class="fa fa-check"></i><b>6.3</b> Commit messages</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The DSS Innovation style guide <br><font size = 5'>Ji won Chang</font></br></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="syntax" class="section level1">
<h1><span class="header-section-number">3</span> Syntax</h1>
<p>Production level data science projects and applications can be developed by multiple Data Scientists. The following are syntax rules to ease R code collaboration and handoff.</p>
<div id="file-names" class="section level2">
<h2><span class="header-section-number">3.1</span> File Names</h2>
<p>File names should be meaningful and end in .R. Avoid using special characters in file names - stick with numbers, letters, <code>-</code>, and <code>_</code>.</p>
<ul>
<li><p>If a file contains a single function, give the file the same name as the function.</p></li>
<li><p>If a file contains multiple related functions, give it a concise, but evocative name.</p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb2-2" title="2">fit_models.R</a>
<a class="sourceLine" id="cb2-3" title="3">utility_functions.R</a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb2-6" title="6">fit models.R</a>
<a class="sourceLine" id="cb2-7" title="7">foo.r</a>
<a class="sourceLine" id="cb2-8" title="8">stuff.r</a></code></pre></div>
<p>If files should be run in a particular order, prefix them with numbers. If it seems likely you’ll have more than 10 files, left pad with zero:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="dv">00</span>_download.R</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="dv">01</span>_explore.R</a>
<a class="sourceLine" id="cb3-3" title="3">...</a>
<a class="sourceLine" id="cb3-4" title="4"><span class="dv">09</span>_model.R</a>
<a class="sourceLine" id="cb3-5" title="5"><span class="dv">10</span>_visualize.R</a></code></pre></div>
<p>If you later realize that you’ve missed some steps, it’s tempting to use 02a, 02b, etc. However, I think it’s generally better to bite the bullet and rename all files.</p>
<p>Pay attention to capitalization, since you, or some of your collaborators, might be using an operating system with a case-insensitive file system (e.g., Microsoft Windows or OS X) which can lead to problems with (case-sensitive) revision control systems. Prefer file names that are all lower case, and never have names that differ only in their capitalization.</p>
</div>
<div id="object-names" class="section level2">
<h2><span class="header-section-number">3.2</span> Object names</h2>
<p>Variable and function names should use only lowercase letters, numbers, and <code>_</code>. Use underscores (<code>_</code>) (so called snake case) to separate words within a name. Generally, variable names should be nouns and function names should be verbs. Strive for names that are concise and meaningful (this is not easy!).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb4-2" title="2">df_day_one <span class="co"># df for dataframe</span></a>
<a class="sourceLine" id="cb4-3" title="3">df_day_<span class="dv">1</span></a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb4-6" title="6">DayOne</a>
<a class="sourceLine" id="cb4-7" title="7">dayone</a></code></pre></div>
<p>Object names, especially for Shiny applications should start with the type of object. <em>This code predates the style guide, which is why it does not follow the snake case convention.</em></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb5-2" title="2">dfSum<span class="op">$</span>visitLog &lt;-<span class="st"> </span><span class="kw">log10</span>(dfSum<span class="op">$</span>visitCnt)</a>
<a class="sourceLine" id="cb5-3" title="3"></a>
<a class="sourceLine" id="cb5-4" title="4"></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="kw">checkboxGroupInput</span>(<span class="st">&quot;chkExclusionDiag&quot;</span>,</a>
<a class="sourceLine" id="cb5-6" title="6">                  <span class="dt">label =</span> tags<span class="op">$</span><span class="kw">h5</span>(<span class="st">&quot;Excluded: &quot;</span>),</a>
<a class="sourceLine" id="cb5-7" title="7">                  <span class="dt">choices =</span> <span class="kw">c</span>(),</a>
<a class="sourceLine" id="cb5-8" title="8">                  <span class="dt">inline =</span> <span class="ot">TRUE</span>)<span class="er">)</span></a>
<a class="sourceLine" id="cb5-9" title="9"></a>
<a class="sourceLine" id="cb5-10" title="10">output<span class="op">$</span>ospTable &lt;-<span class="st"> </span>DT<span class="op">::</span><span class="kw">renderDataTable</span>({</a>
<a class="sourceLine" id="cb5-11" title="11">    df &lt;-<span class="st"> </span><span class="kw">dfOsp</span>()</a>
<a class="sourceLine" id="cb5-12" title="12">    </a>
<a class="sourceLine" id="cb5-13" title="13">    df <span class="op">%&lt;&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(proposalId, description, piName, awardDt, sponsorName)</a>
<a class="sourceLine" id="cb5-14" title="14">    </a>
<a class="sourceLine" id="cb5-15" title="15">    df <span class="op">%&lt;&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb5-16" title="16">      <span class="dt">proposalId =</span> <span class="kw">proper</span>(proposalId),</a>
<a class="sourceLine" id="cb5-17" title="17">      <span class="dt">description =</span> <span class="kw">proper</span>(description),</a>
<a class="sourceLine" id="cb5-18" title="18">      <span class="dt">piName =</span> <span class="kw">proper</span>(piName),</a>
<a class="sourceLine" id="cb5-19" title="19">      <span class="dt">awardDt =</span> <span class="kw">as.Date</span>(awardDt),</a>
<a class="sourceLine" id="cb5-20" title="20">      <span class="dt">sponsorName =</span> <span class="kw">proper</span>(sponsorName)</a>
<a class="sourceLine" id="cb5-21" title="21">    )</a></code></pre></div>
</div>
<div id="function-definition-and-calls" class="section level2">
<h2><span class="header-section-number">3.3</span> Function definition and calls</h2>
<p>Function definitions should first list arguments without default values, followed by those with default values. For functions to be be compatible with dplyr, the first argument must be a data frame or the object that is operated on.</p>
<p>In both function definitions and function calls, multiple arguments per line are allowed; line breaks are only allowed between assignments.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb6-2" title="2">predict_ctr &lt;-<span class="st"> </span><span class="cf">function</span>(query, property, num_days,</a>
<a class="sourceLine" id="cb6-3" title="3">                       <span class="dt">showplot =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb6-4" title="4"></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb6-6" title="6">predict_ctr &lt;-<span class="st"> </span><span class="cf">function</span>(query, property, num_days, <span class="dt">showplot =</span></a>
<a class="sourceLine" id="cb6-7" title="7">                       <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="pipes" class="section level2">
<h2><span class="header-section-number">3.4</span> Pipes</h2>
<p><code>%&gt;%</code> should always have a space before it, and should usually be followed by a new line. After the first step, each line should be indented by two spaces. This structure makes it easier to add new steps (or rearrange existing steps) and harder to overlook a step.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb7-2" title="2">iris <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="st">  </span><span class="kw">group_by</span>(Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="st">  </span><span class="kw">summarize_if</span>(is.numeric, mean) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="st">  </span><span class="kw">gather</span>(measure, value, <span class="op">-</span>Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="st">  </span><span class="kw">arrange</span>(value)</a>
<a class="sourceLine" id="cb7-8" title="8"></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb7-10" title="10">iris <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Species) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize_all</span>(mean) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-11" title="11">ungroup <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">gather</span>(measure, value, <span class="op">-</span>Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="kw">arrange</span>(value)</a></code></pre></div>
</div>
<div id="ggplot2" class="section level2">
<h2><span class="header-section-number">3.5</span> ggplot2</h2>
<p>Styling suggestions for <code>+</code> used to separate ggplot2 layers are very similar to those for %&gt;% in pipelines.
<code>+</code> should always have a space before it, and should be followed by a new line. This is true even if your plot has only two layers. After the first step, each line should be indented by two spaces.</p>
<p>If you are creating a ggplot off of a dplyr pipeline, there should only be one level of indentation.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb8-2" title="2">iris <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="st">  </span><span class="kw">filter</span>(Species <span class="op">==</span><span class="st"> &quot;setosa&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Width, <span class="dt">y =</span> Sepal.Length)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="st">  </span><span class="kw">geom_point</span>()</a>
<a class="sourceLine" id="cb8-6" title="6"></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb8-8" title="8">iris <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="st">  </span><span class="kw">filter</span>(Species <span class="op">==</span><span class="st"> &quot;setosa&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Width, <span class="dt">y =</span> Sepal.Length)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="st">    </span><span class="kw">geom_point</span>()</a>
<a class="sourceLine" id="cb8-12" title="12"></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb8-14" title="14">iris <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-15" title="15"><span class="st">  </span><span class="kw">filter</span>(Species <span class="op">==</span><span class="st"> &quot;setosa&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-16" title="16"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Width, <span class="dt">y =</span> Sepal.Length)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p>If the arguments to a ggplot2 layer don’t all fit on one line, put each argument on its own line and indent:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Width, <span class="dt">y =</span> Sepal.Length, <span class="dt">color =</span> Species)) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="st">  </span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb9-5" title="5">    <span class="dt">x =</span> <span class="st">&quot;Sepal width, in cm&quot;</span>,</a>
<a class="sourceLine" id="cb9-6" title="6">    <span class="dt">y =</span> <span class="st">&quot;Sepal length, in cm&quot;</span>,</a>
<a class="sourceLine" id="cb9-7" title="7">    <span class="dt">title =</span> <span class="st">&quot;Sepal length vs. width of irises&quot;</span></a>
<a class="sourceLine" id="cb9-8" title="8">  ) </a>
<a class="sourceLine" id="cb9-9" title="9"></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Width, <span class="dt">y =</span> Sepal.Length, <span class="dt">color =</span> Species)) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-12" title="12"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb9-13" title="13"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Sepal width, in cm&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Sepal length, in cm&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;Sepal length vs. width of irises&quot;</span>) </a></code></pre></div>
<p>ggplot2 allows you to do data manipulation, such as filtering or slicing, within the <code>data</code>argument. Avoid this, and instead do the data manipulation in a pipeline before starting plotting.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb10-2" title="2">iris <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="st">  </span><span class="kw">filter</span>(Species <span class="op">==</span><span class="st"> &quot;setosa&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Width, <span class="dt">y =</span> Sepal.Length)) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="st">  </span><span class="kw">geom_point</span>()</a>
<a class="sourceLine" id="cb10-6" title="6"></a>
<a class="sourceLine" id="cb10-7" title="7"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb10-8" title="8"><span class="kw">ggplot</span>(<span class="kw">filter</span>(iris, Species <span class="op">==</span><span class="st"> &quot;setosa&quot;</span>), <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Width, <span class="dt">y =</span> Sepal.Length)) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-9" title="9"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="project.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="documentation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["styleguide.pdf", "styleguide.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
